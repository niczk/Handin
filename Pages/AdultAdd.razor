@page "/AdultAdd"
@attribute [Authorize(Policy = "SecurityLevel1")]
@using Handin1.Model
@using Handin1.Data
@inject IAdultList AdultList
@inject NavigationManager NavigationManager

<h3>Add Adult</h3>

<EditForm Model="@newAdult" OnValidSubmit="@AddNewAdult">
    <DataAnnotationsValidator />
    <ValidationSummary />
    <div class="form-group">
        First Name:<br />
        <InputText @bind-Value="newAdult.FirstName" />
    </div>
    <div class="form-group">
        Last Name:<br />
        <InputText @bind-Value="newAdult.LastName" />
    </div>
    <div class="form-group">
        Job Title:<br />
        <InputText @bind-Value="newAdult.JobTitle" />
    </div>
    <div class="form-group">
        Hair Color:<br />
        <InputText @bind-Value="newAdult.HairColor" />
    </div>
    <div class="form-group">
        Eyes Color:<br />
        <InputText @bind-Value="newAdult.EyeColor" />
    </div>
    <div class="form-group">
        Age:<br />
        <InputNumber @bind-Value="newAdult.Age" />
    </div>
    <div class="form-group">
        Weight:<br />
        <InputNumber @bind-Value="newAdult.Weight" />
    </div>
    <div class="form-group">
        Height:<br />
        <InputNumber @bind-Value="newAdult.Height" />
    </div>
    <div class="form-group">
        Sex:<br />
        <InputText @bind-Value="newAdult.Sex" />
    </div>
    <p>
        <button class="btn btn-outline-dark" type="submit">Add Adult</button>
    </p>
</EditForm>

@code {
    private Adult newAdult = new Adult();

    private async Task AddNewAdult()
    {
        await AdultList.AddAdult(newAdult);
        NavigationManager.NavigateTo("/adults");
    }
}
